---
import Layout from "@/layouts/Layout.astro";
import Formulario from "@/components/Formulario";
import LoginButton from "@/components/loginButton.jsx";
import RegisterButton from "@/components/registerButton.jsx";
import { getUser } from '../lib/auth';

const user = await getUser();
---

<Layout title="Pass key">
  <main class="flex justify-center items-center h-screen"> 
    <div class="flex flex-wrap mx-4 items-center ">
      {user ? (
        <Formulario client:load />
      ) : (
        <div class="flex bg-[#1b1b32] rounded-lg flex-wrap mx-4 justify-center flex-2 shadow-md shadow-purple-950"> 
          <div class="max-w-sm rounded overflow-hidden shadow-lg"> 
            <div class="grid grid-cols-2 gap-4 just "> 
              
                <div class="p-4"> 
                  <img src="../../public/assets/prueba.png" alt="Imagen de login" class="w-full h-auto object-cover justify-center items-center content-center" /> 
                </div>
                <div class="flex flex-col  justify-center gap-4 items-center mr-6"> 
                  <LoginButton client:load />
                  <RegisterButton client:load />
                </div>
            </div>
          </div> 
        </div>
      )}
    </div>    
  </main>
  
  
</Layout>
